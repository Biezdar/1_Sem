#include <stdio.h>
#include <stdlib.h>

enum katPojazdu{OSOBOWY,CIEZAROWY,AUTOBUS};
enum kolor {bialy,czarny,zielony};
enum naped {benzynowy,diesel,elektryczny,hybrydowy};
struct  podstawa {
	char marka[30];
	double cena;
	double dlugosc;
	
	};
struct osobowy {
	struct podstawa pod;
	enum naped nap;
	int liczbaDrzwi;
	enum kolor color;
	};
struct ciezarowy{
	struct podstawa pod;
	int ladownosc;
	int liczbaOsi;
};
struct autobus{
	struct podstawa pod;
	int liczbaMiejsc;
};
union typPojazdu{
	struct osobowy osob;
	struct ciezarowy ciez;
	struct autobus   autob;
};
struct pojazd{
	union typPojazdu sam;
	enum katPojazdu typ;
};
struct osobowy dodajOsobowy(){
        struct osobowy os;
        printf("Podaj liczbe drzwi \n");
        scanf("%d",&(os.liczbaDrzwi));
        return os;
}

struct pojazd* dodawaniePojazdu(){
	int i;
	struct pojazd* nowy;
	nowy=(struct pojazd*)malloc(sizeof (struct pojazd));
	do {
		printf("\n Proszę podać jaki pojazd chcesz dodac \n0-osobowy\n1-ciezarowy\n2-autobus\n-1-wyjscie  \n \n");	
		scanf("%d",&i);
		}while(i<-1 && i>3);
	if(i==-1)
		return NULL;	
	switch (i){
	case OSOBOWY:
		nowy->sam.osob=dodajOsobowy();
		nowy->typ=OSOBOWY;
		break;
	default:
		break;
	}
	return nowy;
}
void showOsobowy(struct osobowy* os){
	printf("\nSAMOCHOD OSOBOWY \n");
	//printf("makra : %s \n",os.pod.marka);
	printf("liczba drzwi : %d",os->liczbaDrzwi);
}
int main(){
	struct  pojazd* lista;
	lista=dodawaniePojazdu();
	lista->typ=OSOBOWY;
	lista->sam.osob.liczbaDrzwi=5;
	showOsobowy(lista.sam.osob);
	lista=dodawniePojazdu();
	return 0;
}
